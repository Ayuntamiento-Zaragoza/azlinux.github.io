import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as d,o as r,c,a as e,b as a,d as s,e as l,f as i}from"./app-a23ea122.js";const t="/azlinux.github.io/img/sane-net.png",u={},p=e("h2",{id:"sane",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#sane","aria-hidden":"true"},"#"),a(" SANE")],-1),m={href:"http://es.wikipedia.org/wiki/Scanner_Access_Now_Easy",target:"_blank",rel:"noopener noreferrer"},h=i('<h2 id="estructura" tabindex="-1"><a class="header-anchor" href="#estructura" aria-hidden="true">#</a> Estructura</h2><div style="text-align:center;"><p><img src="'+t+'" alt="Estructura de SANE" title="Estructura de SANE"></p></div><h3 id="backends-de-sane-cajas-verdes" tabindex="-1"><a class="header-anchor" href="#backends-de-sane-cajas-verdes" aria-hidden="true">#</a> Backends de SANE (cajas verdes)</h3><div class="hint-container info"><p class="hint-container-title">Información</p><p>Directorio <code>/etc/sane.d</code>.</p></div><p>Los <em>backends</em> son los controladores que implementan las funciones que proporciona la capa de abstracción de SANE para la comunicación de las aplicaciones de usuario con los diferentes dispositivos de escaneo soportados. Cada <em>backend</em> puede soportar uno o varios dispositivos ya que, en realidad, lo que el <em>backend</em> implementa es el protocolo de comunicación con el <em>chipset</em> del dispositivo, el cual puede estar integrado en varios escáneres.</p>',5),v={href:"http://www.sane-project.org/sane-supported-devices.html",target:"_blank",rel:"noopener noreferrer"},b=e("em",null,"backends",-1),g=e("code",null,"saned",-1),f=e("code",null,"saned-backends",-1),_=i('<h3 id="interfaz-dll-caja-azul" tabindex="-1"><a class="header-anchor" href="#interfaz-dll-caja-azul" aria-hidden="true">#</a> Interfaz DLL (caja azul)</h3><div class="hint-container info"><p class="hint-container-title">Información</p><p>Fichero <code>/etc/sane.d/dll.conf</code>.</p></div><p>Por encima de los <em>backends</em> se encuentra la interfaz <em>dll</em>, una librería de enlace dinámico que puede entenderse como un <em>backend</em> más, ya que implementa las mismas funciones que estos pero proporciona la posibilidad de utilizar más de un <em>backend</em>.</p><p>Para hacer uso de los <em>backends</em>, estos han de estar registrados. Para ello, debe existir la entrada correspondiente en el archivo <code>dll.conf</code> localizado en el directorio <code>sane.d</code>.</p><h3 id="frontends-de-sane" tabindex="-1"><a class="header-anchor" href="#frontends-de-sane" aria-hidden="true">#</a> Frontends de SANE</h3><div class="hint-container info"><p class="hint-container-title">Información</p><p>Intefaz gráfica del usuario final.</p></div><p>Los <em>frontends</em> son aplicaciones que hacen uso de la capa de abstracción proporcionada por SANE para acceder a los dispositivos de escaneo. Estos programas no tienen por qué conocer el funcionamiento interno de cada dispositivo ya que de ese trabajo se encargan los <em>backends</em>.</p><p>Algunos ejemplos de <em>frontends</em> conocidos son:</p>',8),k=e("li",null,[e("strong",null,"scanimage"),a(": Aplicación para consola (modo texto).")],-1),x=e("li",null,[e("strong",null,"xscanimage"),a(": Versión para X11.")],-1),E={href:"http://es.wikipedia.org/wiki/Xsane",target:"_blank",rel:"noopener noreferrer"},q={href:"http://es.wikipedia.org/wiki/Kooka",target:"_blank",rel:"noopener noreferrer"},A=e("h2",{id:"ejemplo-practico-y-herramientas-de-diagnostico",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ejemplo-practico-y-herramientas-de-diagnostico","aria-hidden":"true"},"#"),a(" Ejemplo práctico y herramientas de diagnóstico")],-1),y=e("p",null,[a("Proceso de instalación del escáner "),e("strong",null,"HP 3500c"),a(".")],-1),N={href:"http://www.sane-project.org/sane-mfgs.html",target:"_blank",rel:"noopener noreferrer"},S=e("ul",null,[e("li",null,[a("Está incluido en el paquete "),e("code",null,"sane-backends 1.0.19"),a(".")]),e("li",null,[a("Nuestro SLED tiene el paquete "),e("code",null,"1.0.17"),a(" (actualizo a "),e("code",null,"1.0.19"),a(").")])],-1),z=i(`<li>Activo <em>backend</em> en <code>/etc/sane.d/dll.conf</code>: busco línea <code>hp3500</code> y descomento.<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#hp
#hp3900
#hpsj5s
hp3500
#hp4200
#hp5400
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Diagnóstico antes de escanear: <ul><li><code>lsusb</code>: chequea puerto para scanner usb (debe detectarlo)<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Bus 004 Device 002: ID 03f0:2205 Hewlett-Packard ScanJet 3500c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><code>sane-find-scanner</code>: es una aplicación incluida en el proyecto SANE cuyo propósito es buscar y detectar aquellos dispositivos del sistema que pudieran ser soportados por alguno de los <em>backends</em>.</li><li><code>scanimage -L</code>: el <em>frontend</em> <code>scanimage</code> muestra los dispositivos compatibles localizados por los <code>backends</code> activados en el archivo <code>dll.conf</code>.</li></ul></li><li>Lanzar <strong>XSANE</strong>: arranca la interfaz gráfica para poder escanear.</li><li>Adquirir imagen desde las aplicaciones: <ul><li>GIMP: Adquirir imagen</li><li>OpenOffice: Insertar &gt; Imagen &gt; Escanear &gt; Seleccionar fuente</li></ul></li>`,4),w=i(`<h2 id="escanear-en-red" tabindex="-1"><a class="header-anchor" href="#escanear-en-red" aria-hidden="true">#</a> Escanear en red</h2><h3 id="equipo-servidor" tabindex="-1"><a class="header-anchor" href="#equipo-servidor" aria-hidden="true">#</a> Equipo servidor</h3><ul><li>Configurar escáner en local (probar)</li><li>Habilitar acceso desde la red (<code>/etc/sane.d/saned.conf</code>)</li><li>Configurar el servicio <code>saned</code> y <code>xinetd</code>: <ul><li>Crear fichero <code>/etc/xintetd.d/saned</code><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service sane
{
      disable = no
      socket_type = stream
      wait = no
      user = saned
      group = saned
      server = /usr/sbin/saned
      protocol = tcp
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Ajustar archivo <code>/etc/services</code><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sane-port 6566/tcp sane saned # SANE network scanner daemon
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>Reiniciar <code>xinetd</code><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>rcxinetd restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>Comprobación<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>telnet localhost <span class="token number">6566</span>
Trying <span class="token number">127.0</span>.0.1<span class="token punctuation">..</span>.
Connected to localhost.
Escape character is ’^<span class="token punctuation">]</span>’.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="equipo-cliente" tabindex="-1"><a class="header-anchor" href="#equipo-cliente" aria-hidden="true">#</a> Equipo cliente</h3><ul><li>Activar <em>backend</em> <code>net</code>: editar <code>dll.conf</code> y descomentar <code>net</code>.</li><li>Configurar <code>/etc/sane.d/net.conf</code>: añadir IP del servidor del escáner.</li><li>Comprobación (¡cuidado con el <em>firewall</em>!):<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>telnet ip_servidor_con_escaner <span class="token number">6566</span>
Trying <span class="token number">127.0</span>.0.1<span class="token punctuation">..</span>
Connected to localhost.
Escape character is ’^<span class="token punctuation">]</span>’.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Lanzar <strong>XSANE</strong>.</li></ul>`,5);function j(I,C){const n=d("ExternalLinkIcon");return r(),c("div",null,[p,e("p",null,[e("a",m,[a("Scanner Access Now Easy (SANE)"),s(n)]),a(" es una interfaz de programación de aplicaciones (API) que proporciona acceso estandarizado a cualquier dispositivo de escaneo (escáner de sobremesa, escáner de mano, cámaras y videocámaras, etc.). El API de SANE es de dominio público y su discusión y desarrollo está abierto a todo el mundo.")]),l(" more "),h,e("p",null,[e("a",v,[a("Existen muchos "),b,s(n)]),a(" dentro del paquete "),g,a(" o "),f,a(" pero también existen backends externos que hay que añadir manualmente en cada caso (p.e. EPSON Perfection V10).")]),_,e("ul",null,[k,x,e("li",null,[e("a",E,[a("Xsane"),s(n)]),a(": Versión para GTK+.")]),e("li",null,[e("a",q,[a("kooka"),s(n)]),a(": Aplicación para entornos KDE.")])]),A,y,e("ul",null,[e("li",null,[e("a",N,[a("Buscamos el escáner"),s(n)]),a(". "),S]),z]),w])}const V=o(u,[["render",j],["__file","2009-08-20-como-utilizamos-los-scanners.html.vue"]]);export{V as default};
